<?xml version="1.0"?>
<!--
Tree Name: demo_tree.xml
Description: Simple mission that iterates through parsed waypoint strings, sends each
             to MoveTo, and logs the temperature at every waypoint. Intended for
             navigation + telemetry demos where the payload supplies waypoints JSON.
Usage Instructions:
  - Payload must include a "waypoints" field understood by ParseWaypoints.
  - Blackboard requires "logfile_path" for LogTemperature.
-->
<root BTCPP_format="4" main_tree_to_execute="demo_tree.xml">
    <BehaviorTree ID="demo_tree.xml">
      <Sequence name="WaypointMission">
        <ParseWaypoints raw_waypoints="{waypoints}" waypoint_queue="{waypoint_queue}" waypoint_count="{waypoint_count}" />
        <LoopString queue="{waypoint_queue}" value="{active_waypoint}" if_empty="SUCCESS">
          <Sequence name="VisitWaypoint">
            <MoveTo name="DriveToWaypoint" pose="{active_waypoint}" action_name="/a200_0000/navigate_to_pose"/>
            <LogTemperature name="LogTemperatureAtWaypoint" logfile_path="{logfile_path}" />
          </Sequence>
      </LoopString>
    </Sequence>
  </BehaviorTree>
</root>
